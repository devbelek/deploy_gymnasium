{% extends "account/base.html" %}

{% load i18n %}
{% load account %}

{% block head_title %}{% trans "Подтверждение e-mail адреса" %}{% endblock %}

{% block content %}
<style>
  .email-confirm {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f8f9fa;
    border: 1px solid #ddd;
    border-radius: 5px;
  }
  .email-confirm h1 {
    font-size: 24px;
    margin-bottom: 20px;
    text-align: center;
  }
  .email-confirm button {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 20px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .email-confirm button:hover {
    background-color: #218838;
  }
</style>

<div class="email-confirm">
  <h1>{% trans "Подтверждение e-mail адреса" %}</h1>

  {% if confirmation %}

    {% user_display confirmation.email_address.user as user_display %}

    <p>{% blocktrans with confirmation.email_address.email as email %}Пожалуйста, подтвердите, что <a href="mailto:{{ email }}">{{ email }}</a> является адресом электронной почты пользователя {{ user_display }}.{% endblocktrans %}</p>

    <form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
    {% csrf_token %}
      <button type="submit">{% trans 'Подтвердить' %}</button>
    </form>

  {% else %}

    {% url 'account_email' as email_url %}

    <p>{% blocktrans %}Срок действия ссылки для подтверждения электронной почты истек или она недействительна. Пожалуйста, <a href="{{ email_url }}">запросите новое подтверждение электронной почты</a>.{% endblocktrans %}</p>

  {% endif %}
</div>
{% endblock %}
